<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>운영체제 8편 - 동기화의 고전적인 문제들 - 기술블로그</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="기술블로그"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="기술블로그"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="이 글은 학부 운영체제 수업을 듣고 정리한 글입니다.맥락없이 운영체제에 대한 내용들이 불쑥 등장하니 양해부탁드립니다.   이번 편은 동기화(synchronization)에 이어 동기화의 고전적인 문제들에 대한 내용입니다.   동기화에 대한 고전적인 대표적인 문제들이 몇가지 있는데 이중 2가지를 알아볼 것이다.    Bounded-buffer problem"><meta property="og:type" content="blog"><meta property="og:title" content="운영체제 8편 - 동기화의 고전적인 문제들"><meta property="og:url" content="https://tk-one.github.io/2019/07/25/classic-problem-of-synchronization/"><meta property="og:site_name" content="기술블로그"><meta property="og:description" content="이 글은 학부 운영체제 수업을 듣고 정리한 글입니다.맥락없이 운영체제에 대한 내용들이 불쑥 등장하니 양해부탁드립니다.   이번 편은 동기화(synchronization)에 이어 동기화의 고전적인 문제들에 대한 내용입니다.   동기화에 대한 고전적인 대표적인 문제들이 몇가지 있는데 이중 2가지를 알아볼 것이다.    Bounded-buffer problem"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://tk-one.github.io/images/bounded-buffer-problem.png"><meta property="og:image" content="https://tk-one.github.io/images/readers-writers-problem.png"><meta property="article:published_time" content="2019-07-25T12:50:23.000Z"><meta property="article:modified_time" content="2023-06-07T16:19:12.182Z"><meta property="article:author" content="TK-one"><meta property="article:tag" content="OS"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://tk-one.github.io/images/bounded-buffer-problem.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://tk-one.github.io/2019/07/25/classic-problem-of-synchronization/"},"headline":"운영체제 8편 - 동기화의 고전적인 문제들","image":["https://tk-one.github.io/images/bounded-buffer-problem.png","https://tk-one.github.io/images/readers-writers-problem.png"],"datePublished":"2019-07-25T12:50:23.000Z","dateModified":"2023-06-07T16:19:12.182Z","author":{"@type":"Person","name":"TK-one"},"publisher":{"@type":"Organization","name":"기술블로그","logo":{"@type":"ImageObject","url":"https://tk-one.github.io/img/logo.svg"}},"description":"이 글은 학부 운영체제 수업을 듣고 정리한 글입니다.맥락없이 운영체제에 대한 내용들이 불쑥 등장하니 양해부탁드립니다.   이번 편은 동기화(synchronization)에 이어 동기화의 고전적인 문제들에 대한 내용입니다.   동기화에 대한 고전적인 대표적인 문제들이 몇가지 있는데 이중 2가지를 알아볼 것이다.    Bounded-buffer problem"}</script><link rel="canonical" href="https://tk-one.github.io/2019/07/25/classic-problem-of-synchronization/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/androidstudio.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-124797892-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-124797892-1');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/rss2.xml" title="기술블로그" type="application/rss+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="기술블로그" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2019-07-25T12:50:23.000Z" title="25/07/2019, 21:50:23">2019-07-25</time>&nbsp;게시 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a></span><span class="level-item">16분안에 읽기 (약 2358 단어)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>회 방문</span></div></div><h1 class="title is-3 is-size-4-mobile">운영체제 8편 - 동기화의 고전적인 문제들</h1><div class="content"><p>이 글은 학부 운영체제 수업을 듣고 정리한 글입니다.<br>맥락없이 운영체제에 대한 내용들이 불쑥 등장하니 양해부탁드립니다.  </p>
<p>이번 편은 동기화(synchronization)에 이어 동기화의 고전적인 문제들에 대한 내용입니다.  </p>
<p>동기화에 대한 고전적인 대표적인 문제들이 몇가지 있는데 이중 2가지를 알아볼 것이다.  </p>
<ul>
<li>Bounded-buffer problem</li>
<li>Readers and Writers problem</li>
</ul>
<span id="more"></span>
<h2 id="Bounded-buffer-problem"><a href="#Bounded-buffer-problem" class="headerlink" title="Bounded-buffer problem"></a>Bounded-buffer problem</h2><p>이는 간단하게 표현하면 N개의 buffer에 여러 producer와 consumer가 동시에 접근하는 문제이다.<br>몇가지 용어부터 정리해보자.  </p>
<ul>
<li><strong>생산자(Producer)</strong><br>한번에 하나의 아이템을 생성해 buffer에 저장한다. 다만 이미 buffer의 상태가 full이면 대기한다.  </li>
<li><strong>소비자(Consumer)</strong><br>Buffer에서 하나의 아이템을 가져온다. 다만 buffer가 비어있다면 대기한다.</li>
</ul>
<p align="center">
    <img style="max-width: 550px" alt="Bounded-buffer problem" src="/images/bounded-buffer-problem.png"/>
</p>
  
<p>이 문제는 주변에서도 많이 찾아볼 수 있는데 패킷을 예로 들 수 있겠다. 패킷이 계속 들어올때 ethernet을 사용한다고 가정한다면 ethernet driver가 패킷을 하나씩 저장해준다. 이들이 buffer에 올라오면 그다음 부터는 Kernel의 역할이다. Kernel이 buffer를 읽어야한다. 이를 읽을때 어떤 것을 동기화를 해야하는가. 어떤 자료구조를 사용해야 하는가 등이 이문제를 해결하는데 중요한 요점이다.</p>
<p>여기에서는 Producer와 Consumer가 충돌없이 buffer에 접근할 수 있도록 해야하므로, Buffer에 접근하는 부분이 critical section이 되겠다.  </p>
<p>여러개의 Producer가 동시에 produce할 수 없고, Producer와 Consumer가 동시에 produce, consume 할 수 없다. 또한 여러개의 Consumer도 동시에 consume할 수 없다.<br>이를 여러개의 적절한 자료구조와 알고리즘을 통해 해결해보자.  </p>
<p>이는 3가지 semaphore를 사용해서 구현할 수 있다. (다른 구현방법도 많다.)<br>우선 buffer는 간단하게 N의 크기를 가진 배열로 하자. Producer는 buffer가 full이 아니라면 새로운 item을 추가한다. Consumer는 buffer가 empty가 아니라면 item을 소비한다.  </p>
<p>문제를 해결하기 위해 도입한 3가지 semaphore와 그들의 역할은 다음과 같다.  </p>
<ul>
<li><strong>empty</strong><br>버퍼내에 저장할 공간을 의미한다. Producer들의 진입을 관리한다. buffer의 크기가 N이므로 초기값은 N으로 하여 0이 될때까지 Producer가 진입할 수 있다.  </li>
<li><strong>full</strong><br>버퍼내에 소비할 아이템이 있는지를 의미한다. Consumer들의 진입을 관리한다. 초기값은 0으로 하여 비어있을때는 Consumer가 진입하지 못한다.  </li>
<li><strong>Mutex</strong><br>buffer의 변경을 위한 semaphore이다. 초기값은 1로하여 동시에 1개의 Producer or Consumer만 진입할 수 있다.</li>
</ul>
<p>pseudo 코드를 바로 살펴보자.  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Producer:<br>    do &#123;<br>        // 버퍼에 최소 하나의 공간이 생기기를 기다린다.<br>        wait(empty);<br>        wait(mutex);<br><br>        [produce an item in buffer]<br><br>        signal(mutex);<br>        // 버퍼에 아이템이 있음을 알린다.<br>        signal(full);<br>    &#125; while (1);<br><br><br>Consumer:<br>    do &#123;<br>        // 버퍼에 적어도 하나의 아이템이 채워지기를 기다린다.<br>        wait(full); <br>        wait(mutex);<br>        <br>        [consume item from buffer]<br><br>        signal(mutex);<br>        // 버퍼에 하나의 빈 공간이 생겼음을 알린다.<br>        signal(empty);<br>    &#125; while (1);<br></code></pre></td></tr></table></figure>

<p>이를 자바로 구현한 코드도 살펴보자.  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.concurrent.Semaphore;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Buffer</span> &#123;<br>    <span class="hljs-keyword">private</span> String[] buffer;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> index;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Buffer</span><span class="hljs-params">(<span class="hljs-type">int</span> size)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[size];<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(String message)</span> &#123;<br>        <span class="hljs-keyword">if</span> (index &gt;= buffer.length) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;buffer is full&quot;</span>);<br>        &#125;<br><br>        buffer[index++] = message;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (index == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">&quot;buffer is empty&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> buffer[--index];<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Producer</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> counter;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Buffer buffer;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore empty;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore mutex;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore full;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Producer</span><span class="hljs-params">(Buffer buffer,</span><br><span class="hljs-params">                    Semaphore empty,</span><br><span class="hljs-params">                    Semaphore mutex,</span><br><span class="hljs-params">                    Semaphore full)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = buffer;<br>        <span class="hljs-built_in">this</span>.empty = empty;<br>        <span class="hljs-built_in">this</span>.mutex = mutex;<br>        <span class="hljs-built_in">this</span>.full = full;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">produce</span><span class="hljs-params">(String message)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            empty.acquire();<br>            mutex.acquire();<br><br>            buffer.add(message + <span class="hljs-string">&quot;-&quot;</span> + counter);<br>            counter++;<br><br>            mutex.release();<br>            full.release();<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Consumer</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Buffer buffer;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore empty;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore mutex;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore full;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Consumer</span><span class="hljs-params">(Buffer buffer,</span><br><span class="hljs-params">                    Semaphore empty,</span><br><span class="hljs-params">                    Semaphore mutex,</span><br><span class="hljs-params">                    Semaphore full)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = buffer;<br>        <span class="hljs-built_in">this</span>.empty = empty;<br>        <span class="hljs-built_in">this</span>.mutex = mutex;<br>        <span class="hljs-built_in">this</span>.full = full;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">consume</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            full.acquire();<br>            mutex.acquire();<br><br>            <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> buffer.pop();<br>            System.out.println(<span class="hljs-string">&quot;pop &quot;</span> + message);<br><br>            mutex.release();<br>            empty.release();<br><br>            <span class="hljs-keyword">return</span> message;<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String args[])</span> &#123;<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br>        <span class="hljs-type">Buffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Buffer</span>(size);<br>        <span class="hljs-type">Semaphore</span> <span class="hljs-variable">emptySemaphore</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Semaphore</span>(size);<br>        <span class="hljs-type">Semaphore</span> <span class="hljs-variable">mutexSemaphore</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Semaphore</span>(<span class="hljs-number">1</span>);<br>        <span class="hljs-type">Semaphore</span> <span class="hljs-variable">fullSemaphore</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Semaphore</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-type">Producer</span> <span class="hljs-variable">producer1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Producer</span>(<br>                buffer, emptySemaphore, mutexSemaphore, fullSemaphore);<br>        <span class="hljs-type">Producer</span> <span class="hljs-variable">producer2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Producer</span>(<br>                buffer, emptySemaphore, mutexSemaphore, fullSemaphore);<br>        <span class="hljs-type">Consumer</span> <span class="hljs-variable">consumer1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Consumer</span>(<br>                buffer, emptySemaphore, mutexSemaphore, fullSemaphore);<br><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; IntStream.range(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>).forEach(i -&gt; producer1.produce(<span class="hljs-string">&quot;producerThread1&quot;</span>))).start();<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; IntStream.range(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>).forEach(i -&gt; producer2.produce(<span class="hljs-string">&quot;producerThread2&quot;</span>))).start();<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>                consumer1.consume();<br>            &#125;<br>        &#125;).start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>producer1</code>과 <code>producer2</code>는 각각 100번씩 buffer에 문자열 item을 채워넣는다.<br>그리고 buffer를 consumer가 계속해서 소비하도록 한다.  </p>
<h2 id="Readers-And-Writers-Problem"><a href="#Readers-And-Writers-Problem" class="headerlink" title="Readers And Writers Problem"></a>Readers And Writers Problem</h2><p>이는 여러개의 Reader와 Writer가 하나의 공유데이터를 읽거나 쓰기위해 접근하는 문제를 의미한다.  </p>
<p>몇가지 용어들을 정리해보자.  </p>
<ul>
<li><strong>Reader</strong><br>여러 Reader들은 동시에 데이터를 읽을 수 있다.  </li>
<li><strong>Writer</strong><br>Reader 혹은 다른 Writer가 데이터에 접근하고 있으면 write를 할 수 없다.</li>
</ul>
<p align="center">
    <img alt="Readers Writers problem" src="/images/readers-writers-problem.png"/>
</p>

<p>즉 여러개의 reader는 동시에 critical section에 접근할 수 있지만, writer는 다른 reader나 writer가 접근하지 않을때 write 할 수 있다. Reader도 writer가 현재 critical section에 접근중이면 진입할 수 없다.
앞에서 보았던 Bounded-buffer problem에서는 reader와 writer가 각각 한번만 들어가는 것을 허용했는데 Readers Writers problem에서는 여러 reader들의 접근을 허용한다.<br>이를 여러개의 적절한 자료구조와 알고리즘을 통해 해결해보자.  </p>
<p>이는 2가지 semaphore와 정수형 자료구조를 사용해서 구현할 수 있다.  </p>
<p>문제를 해결하기 위해 도입한 자료구조들의 역할은 다음과 같다.  </p>
<ul>
<li><strong>int readCount</strong><br>버퍼에 현재 접근하고 있는 reader들의 개수를 의미한다. reader 개수가 0이되어야 writer가 접근할 수 있다. 초기값은 0으로 설정한다.  </li>
<li><strong>Semaphore write</strong><br>Writer간의 동기화를 위한 semaphore이다. 초기값은 1로 두고, 1일때에만 writer가 접근할 수 있다.  </li>
<li><strong>Semaphore mutex</strong><br><code>readCount</code>에 대한 접근과 <code>write</code> semaphore에 대한 접근이 원자적으로 수행되기위한 semaphore이다. 초기값은 1로 설정한다.</li>
</ul>
<p>pseudo 코드를 바로 살펴보자.  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Writer:<br>    wait(write);<br>    [write]<br>    signal(write);<br><br><br>Reader:<br>    wait(mutex);<br>    readCount++;<br>    // Reader가 최소 1개 진입해있을때 writer의 접근을 막는다.<br>    if (readCount == 1) &#123;<br>        wait(write);<br>    &#125;<br>    signal(mutex);<br><br>    [read]<br><br>    wait(mutex);<br>    readCount--;<br>    // 아무런 Reader 도 진입해있지 않으므로 writer의 접근을 허용한다.<br>    if (readCount == 0) &#123;<br>        signal(write);<br>    &#125;<br>    signal(mutex);<br></code></pre></td></tr></table></figure>

<p>이를 자바를 사용하여 구현한 코드도 살펴보자.  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.concurrent.Semaphore;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Data</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> number;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getNumber</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> number;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setNumber</span><span class="hljs-params">(<span class="hljs-type">int</span> number)</span> &#123;<br>        <span class="hljs-built_in">this</span>.number = number;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Writer</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> counter;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore writer;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Data data;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Writer</span><span class="hljs-params">(Semaphore writer, Data data)</span> &#123;<br>        <span class="hljs-built_in">this</span>.writer = writer;<br>        <span class="hljs-built_in">this</span>.data = data;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">write</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            writer.acquire();<br>            data.setNumber(++counter);<br>            System.out.println(<span class="hljs-string">&quot;Write data &quot;</span> + counter + <span class="hljs-string">&quot; in thread &quot;</span> + Thread.currentThread().getName());<br>            writer.release();<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Reader</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> readCount;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore writer;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Semaphore mutex;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Data data;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Reader</span><span class="hljs-params">(Semaphore writer, Semaphore mutex, Data data)</span> &#123;<br>        <span class="hljs-built_in">this</span>.writer = writer;<br>        <span class="hljs-built_in">this</span>.mutex = mutex;<br>        <span class="hljs-built_in">this</span>.data = data;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">read</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            mutex.acquire();<br>            readCount++;<br>            <span class="hljs-keyword">if</span> (readCount == <span class="hljs-number">1</span>) &#123;<br>                writer.acquire();<br>            &#125;<br>            mutex.release();<br><br>            <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> data.getNumber();<br>            System.out.println(<span class="hljs-string">&quot;Read data &quot;</span> + num + <span class="hljs-string">&quot; in thread &quot;</span> + Thread.currentThread().getName());<br><br>            mutex.acquire();<br>            readCount--;<br>            <span class="hljs-keyword">if</span> (readCount == <span class="hljs-number">0</span>) &#123;<br>                writer.release();<br>            &#125;<br>            mutex.release();<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span><span class="hljs-params">(<span class="hljs-type">long</span> timeMillis)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Thread.sleep(timeMillis);<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String args[])</span> &#123;<br>        <span class="hljs-type">Data</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Data</span>();<br>        <span class="hljs-type">Semaphore</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Semaphore</span>(<span class="hljs-number">1</span>);<br>        <span class="hljs-type">Semaphore</span> <span class="hljs-variable">mutex</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Semaphore</span>(<span class="hljs-number">1</span>);<br><br>        <span class="hljs-type">Reader</span> <span class="hljs-variable">reader1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Reader</span>(writer, mutex, data);<br>        <span class="hljs-type">Reader</span> <span class="hljs-variable">reader2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Reader</span>(writer, mutex, data);<br>        <span class="hljs-type">Writer</span> <span class="hljs-variable">writer1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Writer</span>(writer, data);<br><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">readerThread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; IntStream.range(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>).forEach(i -&gt; &#123;<br>            reader1.read();<br>            sleep(<span class="hljs-number">5</span>);<br>        &#125;));<br>        readerThread1.setName(<span class="hljs-string">&quot;readerThread-0&quot;</span>);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">readerThread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; IntStream.range(<span class="hljs-number">0</span> ,<span class="hljs-number">20</span>).forEach(i -&gt; &#123;<br>            reader2. read();<br>            sleep(<span class="hljs-number">5</span>);<br>        &#125;));<br>        readerThread2.setName(<span class="hljs-string">&quot;readerThread-1&quot;</span>);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">writerThread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; IntStream.range(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>).forEach(i -&gt; &#123;<br>            writer1.write();<br>            sleep(<span class="hljs-number">10</span>);<br>        &#125;));<br>        writerThread1.setName(<span class="hljs-string">&quot;writerThread-0&quot;</span>);<br>        readerThread1.start();<br>        readerThread2.start();<br>        writerThread1.start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>이에 대한 출력은 다음과 같다.  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Read data 0 in thread readerThread-1<br>Read data 0 in thread readerThread-0<br>Write data 1 in thread writerThread-0<br>Read data 1 in thread readerThread-1<br>Read data 1 in thread readerThread-0<br>Read data 1 in thread readerThread-1<br>Read data 1 in thread readerThread-0<br>Write data 2 in thread writerThread-0<br>Read data 2 in thread readerThread-1<br>Read data 2 in thread readerThread-0<br>Read data 2 in thread readerThread-1<br>Read data 2 in thread readerThread-0<br>Write data 3 in thread writerThread-0<br>Read data 3 in thread readerThread-1<br>...<br>...<br></code></pre></td></tr></table></figure>

<p>다만 이와같이 구현을 하게되면 Writer가 starve할 수 있는 문제가 있다. 왜냐하면 readCount가 0일때에만 writer가 접근할 수 있으므로 여러 reader들이 계속 접근을 하게되면 writer는 접근할 수 있는 기회를 얻지 못하게 된다.  </p>
<h2 id="동기화-알고리즘의-설계"><a href="#동기화-알고리즘의-설계" class="headerlink" title="동기화 알고리즘의 설계"></a>동기화 알고리즘의 설계</h2><p>실제 실무에서도 동기화 문제에 부딪혀 이를 해결해야 하는 경우가 빈번하다.<br>이를 해결하기 위해 다음과 같은 사항을 고려하며 생각해보면 도움이 될 수 있겠다.  </p>
<p>먼저 동기화 문제를 동작조건과 함께 서술해보자. 어떤 조건이 있어야하는지? 어떤 접근형태를 가지는지를 먼저 정리해보자.<br>그 다음에 사용할 semaphore를 설계한다. 몇개를 사용할지? 이 semaphore가 왜 필요할지, 어떤 대상을 protect할지 사고해보고 결정한다. 또한 각 semaphore에 알맞는 초기값을 설계해야한다.<br>그리고 알고리즘을 설계한 후 검토한다. 다음 사항을 검토해보자.  </p>
<ul>
<li>Data consistency가 확보되는지</li>
<li>Deadlock이 발생하는지</li>
<li>Starvation 가능성이 있는지</li>
<li>Concurrency를 얼마나 제공하는지</li>
</ul>
<br/>
<br/>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/OS/">OS</a></div><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-63138b1a1a412ebf" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/08/08/os-memory/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">운영체제 9편 - 메모리</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/07/24/os-synchronization/"><span class="level-item">운영체제 7편 - 동기화(Synchronization)</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://tk-one.github.io/2019/07/25/classic-problem-of-synchronization/';
            this.page.identifier = '2019/07/25/classic-problem-of-synchronization/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'devtkone' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/tk-one-profile.jpeg" alt="TK-one"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">TK-one</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul, South Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">26</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">9</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">15</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/TK-one/" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/TK-one/"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Hadoop/"><span class="level-start"><span class="level-item">Hadoop</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/maven/"><span class="level-start"><span class="level-item">maven</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/nodejs/"><span class="level-start"><span class="level-item">nodejs</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/personal/"><span class="level-start"><span class="level-item">personal</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/tool/"><span class="level-start"><span class="level-item">tool</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0/"><span class="level-start"><span class="level-item">컴퓨터구조</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-19T13:29:02.000Z">2022-06-19</time></p><p class="title"><a href="/2022/06/19/hadoop-file-based-data-structure/">Hadoop 파일기반 자료구조(SequenceFile, MapFile)</a></p><p class="categories"><a href="/categories/Hadoop/">Hadoop</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-18T13:29:02.000Z">2022-06-18</time></p><p class="title"><a href="/2022/06/18/hbase/">HBase 기초</a></p><p class="categories"><a href="/categories/Hadoop/">Hadoop</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-23T13:42:24.000Z">2022-03-23</time></p><p class="title"><a href="/2022/03/23/hadoop-hdfs/">Hadoop HDFS란?</a></p><p class="categories"><a href="/categories/Hadoop/">Hadoop</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-07T13:21:13.000Z">2022-03-07</time></p><p class="title"><a href="/2022/03/07/coronavirus-confirmed/">코로나 확진후기</a></p><p class="categories"><a href="/categories/personal/">personal</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-05T12:59:06.000Z">2022-03-05</time></p><p class="title"><a href="/2022/03/05/how-to-use-markdown/">마크다운(Markdown) 사용법</a></p><p class="categories"><a href="/categories/tool/">tool</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">6월 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">3월 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">9월 2020</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">3월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">1월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">8월 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">7월 2019</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">2월 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">8월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/OS/"><span class="tag">OS</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/coronavirus/"><span class="tag">coronavirus</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/covid19/"><span class="tag">covid19</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/event-loop/"><span class="tag">event-loop</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hadoop/"><span class="tag">hadoop</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hbase/"><span class="tag">hbase</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hdfs/"><span class="tag">hdfs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/markdown/"><span class="tag">markdown</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maven/"><span class="tag">maven</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/smtp/"><span class="tag">smtp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thread/"><span class="tag">thread</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B5%AC%EC%A1%B0/"><span class="tag">컴퓨터구조</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%ED%8C%8C%EC%9D%BC%EC%8B%9C%EC%8A%A4%ED%85%9C/"><span class="tag">파일시스템</span><span class="tag">6</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">업데이트 소식 받기</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="구독"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="기술블로그" height="28"></a><p class="is-size-7"><span>&copy; 2023 TK-one</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv"><span id="busuanzi_value_site_uv">0</span>명의 사용자가 방문 함</span></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>